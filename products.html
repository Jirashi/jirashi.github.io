<!DOCTYPE html>
<html>
    <head>
        <title>Tech LUJO</title>
        <link rel="stylesheet" href="/css/styles.css">
        <link rel="stylesheet" href="/css/products.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <header>
            <div class="header">
                <div class="header-top">
                    <a href="index.html"><img id="header-logo" src="/assets/TechLujoWeb.svg" alt="tech LUJO"></a>
                </div>
                <div class="header-nav">
                    <nav class="navbar">
                        <ul class="navbar-links">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="products.html">Products</a></li>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Support</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <main> 
            <h1 class="red-header1">Browse our Library.</h1>
            <div class="search-products">
                <textarea id="product-search" placeholder="Search..."></textarea><button id="product-search-button"><i class="fa fa-search"></i></button>
            </div>
            <div class="products-list"></div>
            <script src="/js/products.js"></script>
            <script>
                function addItem(item) {
                    var productList = document.querySelector('.products-list');
                    var itemHTML = `
                    <div class="product">
                        <h3 class="product-name">${item.name}
                            <a href="${item.href}"><button class="product-link">Visit</button></a>
                        </h3>
                        <h6 class="product-description">${item.description}</h6>
                    </div>
                    `
                    productList.insertAdjacentHTML('beforeend', itemHTML);
                }

                for (let item of products) {
                    addItem(item);
                }

                function itemSort() {
                    var text = document.getElementById("product-search").value.toLowerCase();
                    var productlist = document.querySelector('.products-list');
                    productlist.innerHTML = "";

                    for (let item of products) {
                        if (item.name.toLowerCase().includes(text) || item.tags.includes(text)) {
                            addItem(item);
                        } else {
                            productlist.innerHTML = "Nothing found...";
                        }
                    }
                }

                document.getElementById("product-search-button").addEventListener("click", function() {
                        itemSort();
                }); 
            </script>
        </main>
    </body>
</html>